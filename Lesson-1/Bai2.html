<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bai 2</title>
</head>

<body>
    <script>
        let items = ["Shoes", "Jeans", "Shirt"];
        do {
            var choice = prompt("Welcome to our shop, what do you want (C, R, U, D)?");
            switch (choice) {
                case "C":
                    let newItem = prompt("Enter new item");
                    items.push(newItem);
                    console.log(`Our items: ${items.toString()}`);
                    break;
                case "R":
                    console.log(`Our items: ${items.toString()}`);
                    break;
                case "U":
                    do {
                        var updatePosition = prompt(`Update position (chose a number from 1 to ${items.length}))?`);
                        let newItem = prompt("New item?");
                        if(items.includes(newItem)){
                            console.log("Duplicate item");
                            break;
                        }
                        if (!isNaN(updatePosition) && updatePosition && updatePosition > 0 && updatePosition <=items.length) {
                            items.splice(updatePosition - 1, 0, newItem);
                            console.log(`Our items: ${items.toString()}`);
                        }
                    } while (updatePosition <= 0 || updatePosition >= items.length || isNaN(updatePosition))
                    break;
                case "D":
                    if (items.length) {
                        do {
                            deletePosition = prompt(`Delete position (chose a number from 1 to ${items.length}))?`);
                            if (!isNaN(deletePosition) && deletePosition && deletePosition > 0 && deletePosition <=items.length) {
                                items.splice(deletePosition - 1, 1);
                            }
                            if(!deletePosition){
                                break;
                            }
                            console.log(`Our items: ${items.toString()}`);
                        } while (deletePosition <= 0 || deletePosition > items.length || isNaN(deletePosition))
                    } else {
                        console.log(`Sorry we are out of item`);
                    }
                    break;
            }
        } while (choice != 'exit');
    </script>
</body>

</html>